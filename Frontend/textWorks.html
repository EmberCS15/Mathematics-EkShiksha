<!DOCTYPE html>
<html lang="en">

<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">

<title>Maths</title>

<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css" integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous">

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
<script src="http://jschr.github.io/textillate/jquery.textillate.js"></script>
	
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css" integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Tangerine">
    <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Play">
	<link href="js/animate.css" rel="stylesheet">
	<script src="js/jquery-3.2.1.js"></script>
	<script src="js/jquery.lettering.js"></script>
	<script src="js/jquery.textillate.js"></script>	
    <link href="js/animate.css" rel="stylesheet">	
	<script src="js/jquery-ui.js"></script>


<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
<script src="fabric.js"></script>

<script> 

$(document).ready(function(){
    $("#flip").click(function(){
        $("#panel").slideToggle("slow");
    });
});
$(document).ready(function(){
    $("#flip2").click(function(){
        $("#panel2").slideToggle("slow");
    });
});

</script>

<style type="text/css">

	.bs
	{
    	margin: 20px;
    }

	#panel
	{
		width:1070px;
		height:150px;
		right:-100px;
		display:none;
		position:relative;
		border-radius:5px;
		border-top:6px solid black;
		border-style: groove;
		background-color:grey;
		overflow:scroll;
	}

	#panel2
	{
		width:1070px;
		height:150px;
		right:-100px;
		display:none;
		position:relative;
		border-radius:5px;
		border-top:6px solid black;
		border-style: groove;
		background-color:grey;
		overflow:scroll;
	}

	input[type="button"]
	{
		width:35px;
		height:35px;
		margin-left:15px;
		margin-top:10px;
		box-shadow:2px 2px 4px black;
	}

	input[type="button"]:hover
	{
		background-color:#4CAF50;
		color:white;
	}

	#c
	{
	    position:absolute;
	    margin-left:73px;
	    margin-top:-92px;
	    height: 1500px;
	    border: 5px solid blue;
	    z-index:2;
		/*background-color:red;*/
	}

	#div2 
	{
	    position: absolute;
	    width: 900px;
	    height: 1500px;
	    border: 5px solid black;
	    z-index:1;
		left:88px;
		/*background-color:yellow;*/
		top:-72px;
	}

	#div3 
	{
    	position: absolute;
	    width: 900px;
	    height: 1500px;
	    border: 5px solid green;
	    z-index:0;
		left:88px;
		/*background-color:blue;*/
		top:-72px;
	}

	.btn-group
	{
		margin-top:-300px;
		left:700px;
	}

	.btngroup2
	{
		margin-top:20px;
		text-align:center;
	}


</style>

<body>

<div class="bs">
    <nav id="myNavbar" class="navbar navbar-inverse" role="navigation">
        <div class="container">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                	<a class="navbar-brand" href="#">ekshiksha</a>
            </div>
        
            <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                <ul class="nav navbar-nav">
                    <li class="dropdown">
                        <a href="#" data-toggle="dropdown" class="dropdown-toggle">File<b class="caret"></b></a>
                        <ul class="dropdown-menu">
                            <li><a href="#">New</a></li>
                            <li><a href="#">Open</a></li>
                            <li><a href="#">Save</a></li>
                            <li><a href="#">Preview</a></li>
                        </ul>
                    </li>

					<li class="dropdown">
                        <a href="#" data-toggle="dropdown" class="dropdown-toggle">Edit <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                            <li><a href="#">Cut</a></li>
                            <li><a href="#">Copy</a></li>
                            <li><a href="#">Paste</a></li>
                            <li><a href="#">Undo</a></li>
                            <li><a href="#">Redo</a></li>
                        </ul>
                    </li>

					<li><a href="#" id="flip2">Font</a></li>

					<li><a href="#" id="flip">Toolbar</a></li>
					
                </ul>     
            </div>
        </div>
    </nav>
	<div id="panel2">
	<div class="row">
	<div class="col-sm-3" style="margin-top:40px;text-align:center">
	<button type="button" class="btn btn-primary" onclick="NewDiv();">New Div</button>
	<button type="button" class="btn btn-primary" onclick="DeleteDiv();"> Delete Div</button>
	</div>
	
	<div class="col-sm-3" style="text-align:justify;margin-top:20px">
	<select id ="FontStyle" name="ddl" onchange="FontFace(this.value);">
        <option value="Verdana">Verdana</option>
		<option value="Aerial">Aerial</option>
		<option value="New Times Roman">New Times Roman</option>
    </select>&nbsp;

	<button class="btn btn-primary" type="button" name="btn-hightlight" onclick="Bold();">	<span class="glyphicon glyphicon-bold"></span></button>
    <button class="btn btn-primary" type="button" name="btn-hightlight" onclick="Italics();">
      <span class="glyphicon glyphicon-italic"></span></button>
      <br>
      <br>
	<input type="color" id="favcolor" value="#ff0000" style="width:40%">
	<button class="btn btn-primary" type="button" name="btn-hightlight" onclick="FontColor();">Highlight</button>
   	</div>
	
	<div class="col-sm-6" style="text-align:justify;margin-top:20px">
	<b style="font-size:20px;color:white">In</b>&nbsp;
	<select data-key="effect" data-type="in" onchange="in_anim(this.value);" name="in">
		<option value="flash">flash</option>
		<option value="bounce">bounce</option><option value="shake">shake</option><option value="tada">tada</option>
		<option value="swing">swing</option>
		<option value="wobble">wobble</option>
		<option value="pulse">pulse</option>
		<option value="flip">flip</option>
		<option value="flipInX">flipInX</option>
		<option value="flipInY">flipInY</option>
		<option value="fadeIn">fadeIn</option>
		<option value="fadeInUp">fadeInUp</option>
		<option value="fadeInDown">fadeInDown</option>
		<option value="fadeInLeft">fadeInLeft</option>
		<option value="fadeInRight">fadeInRight</option>
		<option value="fadeInUpBig">fadeInUpBig</option>
		<option value="fadeInDownBig">fadeInDownBig</option>
		<option value="fadeInLeftBig">fadeInLeftBig</option>
		<option value="fadeInRightBig">fadeInRightBig</option>
		<option value="bounceIn">bounceIn</option>
		<option value="bounceInDown">bounceInDown</option>
		<option value="bounceInUp">bounceInUp</option>
		<option value="bounceInLeft">bounceInLeft</option>
		<option value="bounceInRight">bounceInRight</option>
		<option value="rotateIn">rotateIn</option>
		<option value="rotateInDownLeft">rotateInDownLeft</option>
		<option value="rotateInDownRight">rotateInDownRight</option>
		<option value="rotateInUpLeft">rotateInUpLeft</option>
		<option value="rotateInUpRight">rotateInUpRight</option>
		<option value="rollIn">rollIn</option>
		</select>&nbsp;&nbsp;
	

	 Delay:
					<input id="delay" onchange="delay_change();">
					  <br>
					<br>Duration:
					<input id="duration" onchange="duration_change();">
					<br>
					<br><label>Animation Order</label>
					<input id="a_order" onchange="anim_order()">

	
	<b style="font-size:20px;color:white">Out</b>&nbsp;
	 <select data-key="effect" data-type="out" onchange="out_anim(this.value);" name="in">
		<option value="flash">flash</option>
		<option value="bounce">bounce</option>
		<option value="shake">shake</option>
		<option value="tada">tada</option>
		<option value="swing">swing</option>
		<option value="wobble">wobble</option>
		<option value="pulse">pulse</option>
		<option value="flip">flip</option>
		<option value="flipOutX">flipOutX</option>
		<option value="flipOutY">flipOutY</option>
		<option value="fadeOut">fadeOut</option>
		<option value="fadeOutUp">fadeOutUp</option>
		<option value="fadeOutDown">fadeOutDown</option>
		<option value="fadeOutLeft">fadeOutLeft</option>
		<option value="fadeOutRight">fadeOutRight</option>
		<option value="fadeOutUpBig">fadeOutUpBig</option>
		<option value="fadeOutDownBig">fadeOutDownBig</option>
		<option value="fadeOutLeftBig">fadeOutLeftBig</option>
		<option value="fadeOutRightBig">fadeOutRightBig</option>
		<option value="bounceOut">bounceOut</option>
		<option value="bounceOutDown">bounceOutDown</option>
		<option value="bounceOutUp">bounceOutUp</option>
		<option value="bounceOutLeft">bounceOutLeft</option>
		<option value="bounceOutRight">bounceOutRight</option>
		<option value="rotateOut">rotateOut</option>
		<option value="rotateOutDownLeft">rotateOutDownLeft</option>
		<option value="rotateOutDownRight">rotateOutDownRight</option>
		<option value="rotateOutUpLeft">rotateOutUpLeft</option>
		<option value="rotateOutUpRight">rotateOutUpRight</option>
		<option value="hinge">hinge</option>
		<option value="rollOut">rollOut</option></select>

	<select>
		<option></option>
	</select>&nbsp;&nbsp;

	<select>
		<option></option>
	</select>&nbsp;&nbsp;
	
	<select> 
		<option></option>
	</select>&nbsp;&nbsp;
	<button type="button" class="btn btn-primary" onclick="f1();">Show</button>	
	</div>	
	</div>
	</div>
	
	<div id="panel">
	<table>
	<tbody>
	<td><input type="button" value="&#8704" style="font-size:15pt"></td>
	<td><input type="button" value="&#8712" style="font-size:15pt"></td>
	<td><input type="button" value="&#8721" style="font-size:15pt"></td>
	<td><input type="button" value="&#8719" style="font-size:15pt"></td>
	<td><input type="button" value="&#8734" style="font-size:15pt"></td>
	<td><input type="button" value="+"      style="font-size:15pt"></td>
	<td><input type="button" value="-"      style="font-size:15pt"></td>
	<td><input type="button" value="*"      style="font-size:15pt"></td>
	<td><input type="button" value="/"      style="font-size:15pt"></td>
	<td><input type="button" value="&#8730" style="font-size:15pt"></td>
	<td><input type="button" value="&#8731" style="font-size:15pt"></td>
	<td><input type="button" value="&#8746" style="font-size:15pt"></td>
	<td><input type="button" value="&#8747" style="font-size:15pt"></td>
	<td><input type="button" value="&#8748" style="font-size:15pt"></td>
	<td><input type="button" value="&#8749" style="font-size:15pt"></td>
	<td><input type="button" value="&#8750" style="font-size:15pt"></td>
	<td><input type="button" value="&#8751" style="font-size:15pt"></td>
	<td><input type="button" value="&#8752" style="font-size:15pt"></td>
	<td><input type="button" value="&#8756" style="font-size:15pt"></td>
	<td><input type="button" value="&#8757" style="font-size:15pt"></td>
	<td><input type="button" value="&#8764" style="font-size:15pt"></td>
	<td><input type="button" value="&#8838" style="font-size:15pt"></td>
	</tr>
	
	<tr>	
	<td><input type="button" value="&#9645" style="font-size:15pt"></td>
	<td><input type="button" value="&#9633" style="font-size:15pt"></td>
	<td><input type="button" value="&#9651" style="font-size:15pt"></td>
	<td><input type="button" value="&#9698" style="font-size:15pt"></td>
	<td><input type="button" value="&#9671" style="font-size:15pt"></td>
	<td><input type="button" value="&#9711" style="font-size:15pt"></td>
	<td><input type="button" value="&#9692" style="font-size:15pt"></td>
	<td><input type="button" value="&#9692" style="font-size:15pt"></td>
	<td><input type="button" value="&#9692" style="font-size:15pt"></td>
	<td><input type="button" value="&#9692" style="font-size:15pt"></td>
	<td><input type="button" value="&#9692" style="font-size:15pt"></td>
	</tr>
		
	</tbody>
	</table>
	</div>
	<div class="row">
    <div class="col-sm-2">
    </div>
    <div class="col-sm-9" style="margin-top:170px">
	<div class="btn-group">
    
    <button type="button" class="btn btn-primary" onclick="myFunction(this)" value="1">Canvas</button>

    <button type="button" class="btn btn-primary" onclick="myFunction(this)" value="2">Text</button>

    <button type="button" class="btn btn-primary" onclick="myFunction(this)" value="3">Equation</button>
	</div>
     
	<div id="div2" ondrop="drop(event)" ondragover="allowDrop(event)">
		<div id="T0" name="T0" contenteditable="true" style="display: inline-block; border:1px solid black;"  class="demo,ui-widget-content draggable,animated" >
				<p>Here's a typical paragraph element</p>
			</div>
	</div>

	<canvas id="c"  width="900px" height="1500px">
	</canvas>

	<div id="div3">
	</div>

<script>
var canvas = new fabric.Canvas('c', { selection: true });
var MyArray=[];

function myFunction(obj) 
{

    if(obj.value==1)
    {
        document.getElementById("c").style.zIndex = "2";
        document.getElementById("div2").style.zIndex = "1";
        document.getElementById("div3").style.zIndex = "0";
        draw();
    }
    else if(obj.value==2)
    {
        document.getElementById("div2").style.zIndex = "2";
        document.getElementById("div3").style.zIndex = "1";
        document.getElementById("c").style.zIndex = "0";
    }
    else
    {
        document.getElementById("div3").style.zIndex = "2";
        document.getElementById("div2").style.zIndex = "1";
        document.getElementById("c").style.zIndex = "0";
    }
    
}

function draw()
{
	console.log("Inside Draw!");

            var rect = new fabric.Rect({
              left: 400,
              top: 500,
              fill: 'blue',
              width: 200,
              height: 200,
              //angle: 45,
              selectable:true
            });

            var rect1 = new fabric.Rect({
              left: 300,
              top: 300,
              fill: 'yellow',
              width: 100,
              height: 100,
              //angle: 45,
              selectable:true
            });

            canvas.add(rect);
            canvas.add(rect1);

    console.log("Drawn rectangle!");
}
</script>

		<script>
	 			$(function() {
              $("#T0")
             .draggable({ containment: "parent" },
             {
			drag: function(){
            var offset = $(this).offset();
            var xPos = offset.left;
            var yPos = offset.top;
            $('#posX').text('x: ' + xPos);
            $('#posY').text('y: ' + yPos);
			MyArray[index].xPos=xPos;
		    MyArray[index].yPos=yPos;
        },
        })		 
          .click(function(){
        if ( $(this).is('.ui-draggable-dragging') ) {
            return;
        }
        $(this).draggable( "option", "disabled", true );
        $(this).attr('contenteditable','true');
    }).blur(function(){
        $(this).draggable( 'option', 'disabled', false);
        $(this).attr('contenteditable','false');
    });
	});
		
			</script>

<script>
				var c=0;
					function NewDiv()
						{c+=1;
						$("#div2").append('<div id="T'+ c +'" name="T'+ c +'" class="demo" contenteditable="true" style="display: inline-block; border:1px solid black;"  class="ui-widget-content draggable,animated"><p>Here is a typical paragraph element</p></div>	');
                 var x=	"#T"+c;		 
			   $(x)
    .draggable({ containment: "parent" },
             {
			drag: function(){
            var offset = $(this).offset();
            var xPos = offset.left;
            var yPos = offset.top;
            $('#posX').text('x: ' + xPos);
            $('#posY').text('y: ' + yPos);
			MyArray[index].xPos=xPos;
			MyArray[index].yPos=yPos;
        },
      })
    .click(function(){
        if ( $(this).is('.ui-draggable-dragging') ) {
            return;
        }
        $(this).draggable( "option", "disabled", true );
        $(this).attr('contenteditable','true');
    }).blur(function(){
        $(this).draggable( 'option', 'disabled', false);
        $(this).attr('contenteditable','false');
				});
			var s=document.getElementById(id).innerHTML;
			var i="flash";
			var o="flash";
			var offset=document.getElementById(id);
			var l=offset.offsetLeft;
			var t=offset.offsetTop;
			MyArray.push({id:"T"+c,Data:s,in_anim:i,out_anim:o,xPos:l,yPos:t,delay:"2",duration:"3",order:"1"});
			}
				</script>

	<script>
				var id="T0";
				var index=0;
				 jQuery(document).on("click", "div.demo", function (event) {
					  id = jQuery(this).attr('id') || '';
					  for(var j=0;j<MyArray.length;j++)
					  {
					  if(MyArray[j].id==id)
					        { index=j;
							break;}
					  }
					var editable = document.getElementById(id);
				    editable.addEventListener('input', function() {
					MyArray[index].Data=document.getElementById(id).innerHTML;
				});
					  document.getElementById("delay").value=MyArray[index].delay;
					  document.getElementById("duration").value=MyArray[index].duration;
					  document.getElementById("a_order").value=MyArray[index].order;
				  });
				  jQuery(document).on("click", "#T0", function (event) {
				  id="T0";
				index=0;
					var editable = document.getElementById(id);
				    editable.addEventListener('input', function() {
					MyArray[index].Data=document.getElementById(id).innerHTML;
				});
					  document.getElementById("delay").value=MyArray[0].delay;
					  document.getElementById("duration").value=MyArray[0].duration;
					  document.getElementById("a_order").value=MyArray[0].order;
				  });
								function ShowDiv()
								{
								alert(id + " "+index);
								}
                </script>
				<script>
				function DeleteDiv(){
				    MyArray.splice(index, 1);
					document.getElementById(id).remove();
					}
				</script>

				<script>					
						function Bold() {
						var range;
						if (window.getSelection && window.getSelection().getRangeAt) {
						var html="<b>"+window.getSelection()+"</b>";
						range = window.getSelection().getRangeAt(0);
						range.deleteContents();
						var div = document.createElement("p");
						div.innerHTML = html;
						var frag = document.createDocumentFragment(), child;
						while ( (child = div.firstChild) ) {
						frag.appendChild(child);
						}
						range.insertNode(frag);
						} else if (document.selection && document.selection.createRange) {
						range = document.selection.createRange();
						range.pasteHTML(html);
						}
						var d=document.getElementById(id);
					    var s=d.innerHTML;						
						console.log(s);
						MyArray[index].Data=document.getElementById(id).innerHTML;
						}
						function Italics() {
						var range;
						if (window.getSelection && window.getSelection().getRangeAt) {
						var html="<i>"+window.getSelection()+"</i>";
						range = window.getSelection().getRangeAt(0);
						range.deleteContents();
						var div = document.createElement("div");
						div.innerHTML = html;
						var frag = document.createDocumentFragment(), child;
						while ( (child = div.firstChild) ) {
						frag.appendChild(child);
						}
						range.insertNode(frag);
						} else if (document.selection && document.selection.createRange) {
						range = document.selection.createRange();
						range.pasteHTML(html);
						}
						MyArray[index].Data=document.getElementById(id).innerHTML;
						}
						</script>
						<script type="text/javascript">
						function FontFace(value) {
						var range;
						if (window.getSelection && window.getSelection().getRangeAt) {
						var html=	'<font face='+value+'>' +window.getSelection()+ '</font>';
						range = window.getSelection().getRangeAt(0);
						range.deleteContents();
						var div = document.createElement("div");
						div.innerHTML = html;
						var frag = document.createDocumentFragment(), child;
						while ( (child = div.firstChild) ) {
						frag.appendChild(child);
						}
						range.insertNode(frag);
						} else if (document.selection && document.selection.createRange) {
						range = document.selection.createRange();
						range.pasteHTML(html);
						}
						MyArray[index].Data=document.getElementById(id).innerHTML;
						}
						</script>

						 <script>
						function FontColor() {
						var range;
						var c=document.getElementById("favcolor").value;
						if (window.getSelection && window.getSelection().getRangeAt) {
						var html='<font color='+c+'>' + window.getSelection() + '</font>';
						range = window.getSelection().getRangeAt(0);
						range.deleteContents();
						var div = document.createElement("div");
						div.innerHTML = html;
						var frag = document.createDocumentFragment(), child;
						while ( (child = div.firstChild) ) {
						frag.appendChild(child);
						}
						range.insertNode(frag);
						} else if (document.selection && document.selection.createRange) {
						range = document.selection.createRange();
						range.pasteHTML(html);
						}
						MyArray[index].Data=document.getElementById(id).innerHTML;
						}
					</script>


<script>
var s=document.getElementById("T0").innerHTML;
var i="flash";
var o="flash";
var offset=document.getElementById("T0");
var l=offset.offsetLeft;
var t=offset.offsetTop;
MyArray.push({id:"T0",Data:s,in_anim:i,out_anim:o,xPos:l,yPos:t,delay:"2",duration:"3",order:"1"});
</script>

<script>
				$.fn.extend({
				animateCss: function (animationName) {
			    var animationEnd = 'webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend';
						this.addClass('animated ' + animationName).one(animationEnd, function() {
							$(this).removeClass('animated ' + animationName);
						});
					}
				});
				function f1(){
				var element=document.getElementById(id);
				var e1 = MyArray[index].in_anim;
				var e2 = MyArray[index].out_anim;
				var t=MyArray[index].duration;
				$(element).animateCss(""+e1);
				setTimeout(function() {
				$(element).animateCss(""+e2)
				},t);
                }
			    </script>

			    <script>
				function in_anim(value)
				{
				MyArray[index].in_anim=value;
				}
				</script>
				<script>
				function out_anim(value)
				{
				MyArray[index].out_anim=value;
				}
				</script>
				<script>
				function delay_change()
				{
				 var v1=document.getElementById("delay").value;
				 if(v1!=null && v1!="")
				 {
			     $("#"+id).css({"-webkit-animation-duration": v1+'s'});
				 $("#"+id).css({"-moz-animation-duration": v1+'s'});
				 $("#"+id).css({"animation-duration": v1+'s'});
				 MyArray[index].delay=v1;
				 }
				}
				</script>
				<script>
				function duration_change()
				{
				 var v2=document.getElementById("duration").value;
				 MyArray[index].duration=v2;
				}
				</script>
				<script>
				function anim_order()
				{
				MyArray[index].order=document.getElementById("a_order").value;
				}
				</script>

				<script>
		function f8()
	    {var str=[];
		for(var n=0;n<MyArray.length;n++)
		{var final_string=JSON.stringify(MyArray[n]);
		str.push(final_string);
		}
		exportToCsv("final-file.csv",str);
		}
		function exportToCsv(filename, rows)
		{
		   var processRow = function (row) {
            var finalVal = '';
            finalVal+=row;
            return finalVal + '\n';
        };
        var csvFile = '';
        for (var i = 0; i < rows.length; i++) {
            csvFile += processRow(rows[i]);
        }
        var blob = new Blob([csvFile], { type: 'text/csv;charset=utf-8;' });
        if (navigator.msSaveBlob) { // IE 10+
            navigator.msSaveBlob(blob, filename);
        } else {
            var link = document.createElement("a");
            if (link.download !== undefined) {
                var url = URL.createObjectURL(blob);
                link.setAttribute("href", url);
                link.setAttribute("download", filename);
                link.style.visibility = 'hidden';
                document.body.appendChild(link);
                link.click();
                document.body.removeChild(link);
            }
        }
		}
		</script>
		
	 </div>
  </div>
	
</div>
<button type="button" form="form1" value="CreateCsv" onclick="f8();">CreateCsv</button>
				
</body>
</html>                                		